#
# SPEC file for Lintel
#
Name:           Lintel
Version:        __VERSION__
URL:            http://tesla.hpl.hp.com/opensource.html
Source:         %{name}-%{version}.tar.gz
Release:        1
Summary:        Support tools and library 
Group:          Libraries
License:        BSD
Packager:	HPL SSD Software <software@cello.hpl.hp.com>
BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)

%description
A collection of libraries and tools.

%package	libs
Summary:        Lintel library files
Group:          Libraries
Requires:       %{name}-libs = %{version}-%{release}
Requires:       pkgconfig
License:        BSD

%package	devel
Summary:        Lintel devel files
Group:          Development/Libraries
Requires:       %{name}-devel = %{version}-%{release}
Requires:       pkgconfig
License:        BSD

%description	libs
Lintel libraries

%description	devel
Lintel header files

%prep
%setup -q

%build
autoreconf --install
mkdir build
cd build
../configure --prefix=/usr --enable-optmode=optimize 
make

%install
cd build
rm -rf $RPM_BUILD_ROOT
make install DESTDIR=$RPM_BUILD_ROOT
cp ../Release.info $RPM_BUILD_ROOT/usr/share/doc/Lintel/Release.info
cp ../Changelog.mtn $RPM_BUILD_ROOT/usr/share/doc/Lintel/Changelog.mtn

%clean
rm -rf $RPM_BUILD_ROOT

%files
/usr/bin/batch-parallel
/usr/bin/buildTcl
/usr/bin/calcStats
/usr/bin/drawRandomLogNormal
/usr/bin/lintel-acinclude
/usr/bin/lintel-config
/usr/bin/mercury-plot
/usr/share/bp_modules/BatchParallel/common.pm
/usr/share/bp_modules/BatchParallel/compress.pm
/usr/share/bp_modules/BatchParallel/jobsfile.pm
/usr/share/perl5/Plot/Mercury.pm
/usr/share/perl5/Text/ExpandInt.pm
/usr/share/doc/Lintel/COPYING
/usr/share/doc/Lintel/Release.info
/usr/share/doc/Lintel/Changelog.mtn

%files devel
/usr/include/Lintel/AssertBoost.H
/usr/include/Lintel/AssertException.H
/usr/include/Lintel/Clock.H
/usr/include/Lintel/CompilerMarkup.H
/usr/include/Lintel/Deque.H
/usr/include/Lintel/Double.H
/usr/include/Lintel/HashMap.H
/usr/include/Lintel/HashTable.H
/usr/include/Lintel/HashUnique.H
/usr/include/Lintel/LintelAssert.H
/usr/include/Lintel/LintelVersion.H
/usr/include/Lintel/MathSpecialFunctions.H
/usr/include/Lintel/Matrix.H
/usr/include/Lintel/MersenneTwisterRandom.H
/usr/include/Lintel/PThread.H
/usr/include/Lintel/Posix.H
/usr/include/Lintel/PriorityQueue.H
/usr/include/Lintel/Stats.H
/usr/include/Lintel/StatsEMA.H
/usr/include/Lintel/StatsHistogram.H
/usr/include/Lintel/StatsMaker.H
/usr/include/Lintel/StatsQuantile.H
/usr/include/Lintel/StatsRW.H
/usr/include/Lintel/StatsSequence.H
/usr/include/Lintel/StatsSeries.H
/usr/include/Lintel/StatsSeriesGroup.H
/usr/include/Lintel/StringUtil.H
/usr/include/Lintel/Uncompress.H
/usr/include/Lintel/streamcompat.H
/usr/share/aclocal/com_hp_hpl_lintel.m4
/usr/lib/Make.common
/usr/lib/Make.world
/usr/lib/libLintel.a
/usr/lib/libLintel.la
/usr/lib/libLintel.so.0.0.0
/usr/lib/libLintelPThread.a
/usr/lib/libLintelPThread.la
/usr/share/cmake-modules/FindLibXmlpp.cmake
/usr/share/cmake-modules/FindLintel.cmake

%files libs
/usr/lib/libLintel.so.0.0.0
/usr/lib/libLintelPThread.so.0.0.0

%changelog

* Thu Mar 22 2007 software@cello.hpl.hp.com
- corrected license, changed version to datestamp

* Fri Mar 02 2007 software@cello.hpl.hp.com
- cmake modules added 

* Wed Feb 14 2007 software@cello.hpl.hp.com
- Initial RPM release.
make
